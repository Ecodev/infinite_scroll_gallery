<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"
	  xmlns:f="http://typo3.org/ns/fluid/ViewHelpers"
	  xmlns:gallery="http://typo3.org/ns/Fab/NaturalGallery/ViewHelpers">

	<f:layout name="Default"/>

	<f:section name="main">

		<f:render section="Icons" partial="Icons"/>

		<div data-galleryid="{data.uid}" class="natural-gallery" id="natural-gallery-{data.uid}">

			<gallery:loadAssets/>

			<script type="text/javascript">
				window.naturalGalleries = window.naturalGalleries || [];

				var naturalGallery = {};
				naturalGallery.id = Number('{data.uid}');
				naturalGallery.images = {gallery:imageStack()};
				naturalGallery.thumbnailMaximumHeight = Number('{settings.thumbnailMaximumHeight}');
				naturalGallery.round = Number('{settings.round}');
				naturalGallery.thumbnailFormat = '{settings.thumbnailFormat}';
				naturalGallery.imagesPerRow = Number('{settings.imagesPerRow}');
				naturalGallery.margin = Number('{settings.margin}');
				naturalGallery.limit = Number('{settings.limit}');
				naturalGallery.lightbox = '{settings.lightbox}' == true;
				naturalGallery.showLabels = '{settings.showLabels}';

				window.naturalGalleries.push(naturalGallery);
			</script>

			<f:comment>
				<gallery:dynamicStyle settings="{settings}"/>
			</f:comment>


			<f:if condition="{settings.showHeader}">
				<div class="natural-gallery-header">

					<f:if condition="{settings.showFilters}">
						<div class="natural-gallery-searchTerm sectionContainer">
							<svg viewBox="0 0 100 100">
								<use xlink:href="#icon-search"></use>
							</svg>
							<input type="text" required/>
							<label class="sectionName">{f:translate(key:'search')}</label>
							<span class="bar"></span>
						</div>

						<f:if condition="{categories}">
							<div class="natural-gallery-categories sectionContainer">
								<div class="sectionName">Categories</div>
								<label>
									<input type="checkbox" checked="checked" data-uid="none" class="natural-gallery-category" id="natural-gallery-category-without">
								<span class="label">
									<svg viewBox="0 0 100 100">
										<use xlink:href="#icon-category"></use>
									</svg>
									<f:translate key="without"/>
								</span> <span class="bar"></span>
								</label>
								<f:for each="{categories}" as="category">
									<label>
										<input type="checkbox" checked="checked" data-uid="{category.uid}" class="natural-gallery-category" id="natural-gallery-category-{category.uid}">
									<span class="label">
										<svg viewBox="0 0 100 100">
											<use xlink:href="#icon-category"></use>
										</svg>
										{category.title}
									</span> <span class="bar"></span>
									</label>
								</f:for>
							</div>
						</f:if>
					</f:if>

					<div class="natural-gallery-images sectionContainer">
						<svg viewBox="0 0 100 100">
							<use xlink:href="#icon-pict"></use>
						</svg>
						<div class="sectionName">Images</div>
						<span class="natural-gallery-visible"></span> / <span class="natural-gallery-total"></span>
					</div>
				</div>
			</f:if>

			<div class="natural-gallery-main">
				<div class="natural-gallery-body">
					<div class="natural-gallery-noresults">
						<svg viewBox="0 0 100 100">
							<use xlink:href="#icon-noresults"></use>
						</svg>
					</div>
				</div>
				<div class="natural-gallery-footer">
					<a class="natural-gallery-next">
						<svg viewBox="0 0 100 100">
							<use xlink:href="#icon-next"></use>
						</svg>
					</a>
				</div>
			</div>

			<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
				<div class="pswp__bg"></div>
				<div class="pswp__scroll-wrap">
					<div class="pswp__container">
						<div class="pswp__item"></div>
						<div class="pswp__item"></div>
						<div class="pswp__item"></div>
					</div>
					<div class="pswp__ui pswp__ui--hidden">
						<div class="pswp__top-bar">
							<div class="pswp__counter"></div>
							<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
							<button class="pswp__button pswp__button--share" title="Share"></button>
							<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
							<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
							<div class="pswp__preloader">
								<div class="pswp__preloader__icn">
									<div class="pswp__preloader__cut">
										<div class="pswp__preloader__donut"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
							<div class="pswp__share-tooltip"></div>
						</div>
						<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
						<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
						<div class="pswp__caption">
							<div class="pswp__caption__center"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</f:section>

</html>
